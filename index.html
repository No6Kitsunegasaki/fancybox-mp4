<!DOCTYPE html>
<html>
  <head>
    <!-- jquery -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <!-- fancybox js -->
    <script type="text/javascript" src="./fancybox/jquery.fancybox-1.3.4.pack.js"></script>
    <!-- fancybox css -->
    <link rel="stylesheet" href="./fancybox/jquery.fancybox-1.3.4.css" type="text/css" media="screen" />

    <!-- css on this page -->
    <style type="text/css">
    <!--
      #player {
        width=640
        height=360
      }
    -->
    </style>

    <!-- scripts on this page -->
    <script>
      $(document).ready(function () {
        $(".modal").fancybox({
          padding: '0',
          width: '100%',
          height: '100%',
          overlayOpacity: 0.9,
          overlayColor: '#000',
          // fancyboxが開き終わったときにplayVideoを実行
          onComplete: function() {
            playVideo("player");
          },
          // fancyboxが閉じ終わったときにpauseVideoを実行
          onClosed: function () {
            pauseVideo("player");
          }
        });

        // 指定idのvideoを再生
        function playVideo(id) {
          var video = document.getElementById(id);
          if(video.paused) {
            video.play();
          }
        }
        // 指定idのvideoを停止
        function pauseVideo(id) {
          var video = document.getElementById(id);
          if(video.played) {
            video.pause();
          }
        }
      });
    </script>
  </head>
  <body>
    <div>
      <h1>
        fancybox-mp4 demo
      </h1>
    </div>

    <div>
      <a class="modal" href="#video">動画を再生</a>
    </div>

    <div style="display:none">
      <div id="video">
        <video id="player" controls>
          <source src="./media/omoteicelandanicelandventuremp4.mp4" poster="./media/omoteicelandanicelandventuremp4.jpg">
        </video>
      </div>
    </div>
  </body>
</html>
